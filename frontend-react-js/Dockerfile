FROM node:16.18

# ARG REACT_APP_BACKEND_URL
# ARG REACT_APP_AWS_PROJECT_REGION
# ARG REACT_APP_AWS_COGNITO_REGION
# ARG REACT_APP_AWS_USER_POOLS_ID
# ARG REACT_APP_CLIENT_ID

# ENV REACT_APP_BACKEND_URL=$REACT_APP_BACKEND_URL
# ENV REACT_APP_AWS_PROJECT_REGION=$REACT_APP_AWS_PROJECT_REGION
# ENV REACT_APP_AWS_COGNITO_REGION=$REACT_APP_AWS_COGNITO_REGION
# ENV REACT_APP_AWS_USER_POOLS_ID=$REACT_APP_AWS_USER_POOLS_ID
# ENV REACT_APP_CLIENT_ID=$REACT_APP_CLIENT_ID

ENV PORT=3000

COPY . /frontend-react-js
COPY .env-local /frontend-react-js/.env
WORKDIR /frontend-react-js
RUN npm install -g npm@9.6.4
RUN npm install
EXPOSE ${PORT}
CMD ["npm", "start"]